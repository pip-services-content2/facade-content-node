---
# Container info
- descriptor: "pip-services:container-info:default:default:*"
  name: "pip-vault-us1-alpha"
  description: "Client facade for Pip.Vault US1"

# Console logger
- descriptor: "pip-services:logger:console:default:*"
  level: trace

# Log counters
- descriptor: "pip-services:counters:log:default:*"

# Discovery service
- descriptor: "pip-services:discovery:memory:default:*"
  mongodb: uri=mongodb://dls:0SJScEQ1js9cHC5K@pip-devs-test-shard-00-00-qlytb.mongodb.net:27017,pip-devs-test-shard-00-01-qlytb.mongodb.net:27017,pip-devs-test-shard-00-02-qlytb.mongodb.net:27017/test?ssl=true&replicaSet=pip-devs-test-shard-0&authSource=admin&readPreference=secondary

# Credential store
- descriptor: "pip-services:credential-store:memory:default:*"
  mongodb: username=;password=

########### Content management components ###########

# Tags components
- descriptor: "service-tags:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-tags:controller:default:default:*"
- descriptor: "service-tags:client:direct:default:*"

# Quotes components
- descriptor: "service-quotes:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-quotes:controller:default:default:*"
- descriptor: "service-quotes:client:direct:default:*"

# Attachments components
- descriptor: "service-attachments:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-attachments:controller:default:default:*"
- descriptor: "service-attachments:client:direct:default:*"

# Files components
- descriptor: "service-files:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-files:controller:default:default:*"
- descriptor: "service-files:client:direct:default:*"

# Image Sets components
- descriptor: "service-imagesets:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-imagesets:controller:default:default:*"
- descriptor: "service-imagesets:client:direct:default:*"

# Tips components
- descriptor: "service-tips:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-tips:controller:default:default:*"
- descriptor: "service-tips:client:direct:default:*"

# Guides components
- descriptor: "service-guides:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-guides:controller:default:default:*"
- descriptor: "service-guides:client:direct:default:*"

# Dashboards components
- descriptor: "service-dashboards:persistence:mongodb:default:*"
  connection:
    discovery_key: mongodb
- descriptor: "service-dashboards:controller:default:default:*"
- descriptor: "service-dashboards:client:direct:default:*"

################ REST API Routes ##############

# Main facade service
- descriptor: "pip-services:facade-service:default:default:*"
  root_path: ""
  connection:
    protocol: "http"
    host: "0.0.0.0"
    port: 8080
  options:
    debug: true
    maintenance_enabled: false
    max_req_size: "1mb"

# Version 1 facade service
- descriptor: "facade-content:service:test:api-1.0:*"
  root_path: "/api/1.0"

- descriptor: "facade-content:operations:tags:default:1.0"
- descriptor: "facade-content:operations:quotes:default:1.0"
- descriptor: "facade-content:operations:tips:default:1.0"
- descriptor: "facade-content:operations:guides:default:1.0"
- descriptor: "facade-content:operations:imagesets:default:1.0"
- descriptor: "facade-content:operations:files:default:1.0"
- descriptor: "facade-content:operations:dashboards:default:1.0"
